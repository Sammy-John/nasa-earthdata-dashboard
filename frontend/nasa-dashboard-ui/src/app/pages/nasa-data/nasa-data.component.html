<h2>NASA Land Surface Temperature Data</h2>

<form (ngSubmit)="onSubmit()" #queryForm="ngForm" class="query-form">
  <label>
    Latitude:
    <input type="number" [(ngModel)]="latitude" name="latitude" required />
  </label>

  <label>
    Longitude:
    <input type="number" [(ngModel)]="longitude" name="longitude" required />
  </label>

  <label>
    Start Date:
    <input type="date" [(ngModel)]="startDate" name="startDate" required />
  </label>

  <label>
    End Date:
    <input type="date" [(ngModel)]="endDate" name="endDate" required />
  </label>

  <button type="submit" [disabled]="queryForm.invalid">Fetch Data</button>
</form>

<div *ngIf="loading">Loading data...</div>
<div *ngIf="error" style="color: red;">{{ error }}</div>

<div *ngIf="!loading && !error && data.length > 0">
  <!-- ✅ Final merged chart section -->
  <canvas baseChart
          [data]="chartData"
          [type]="chartType">
  </canvas>

  <ul>
    <li *ngFor="let item of data">
      Date: {{ item.date }} — Temperature: {{ item.temperatureC }}°C
    </li>
  </ul>
</div>

<p *ngIf="!loading && !error && data.length === 0">No data found.</p>
